Introduction
This API provides endpoints for retrieving various types of monitor information, including details, instances, status, severity, and last poll information. It also offers performance metrics data based on widget IDs.
API Authentication
To securely access the API, the system supports two types of authentication methods: CookieAuth and BearerAuth. These methods ensure that only authorized users can interact with the API endpoints.
1. CookieAuth
CookieAuth is a simple method of authentication that requires a fixed token. This token is passed in the API request to authenticate the client. The fixed token for CookieAuth is as follows:
client.id=Q5VZ97naQhyLIH0Vz4MSXvzbMyCYTjPwz+1hVJ643pA=

 
When making requests, this token should be included in the cookies section of the request header. This method is static and does not change over time.
2. BearerAuth
BearerAuth uses a Personal Access Token (PAT) for authentication. This token is dynamic and must be generated by the user via the Motadata AIOps UI.
Once generated, the token is used in the Authorization header as a Bearer token.
 
This API provides endpoints for retrieving various types of monitor information, including details, instances, status, severity, and last poll information. It also offers performance metrics data based on widget IDs.
Authentication
Security Scheme Type:	apiKey
Header parameter name:	cookie
Security Scheme Type:	http
HTTP Authorization Scheme:	bearer
Bearer format:	JWT

Retrieve detailed information about all monitors.
GET
https://ServerIP:PortNumber/api/v1/query/objects
Call this API to obtain comprehensive details about each monitor.
Request
Responses
•	200
•	400
•	403
•	500
The request was successful, and the server has returned the requested details about all monitors. The response contains a JSON object with comprehensive information on each monitor.
•	application/json
•	Schema
•	Example (from schema)
Schema
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/objects' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve monitor status using Monitor ID
GET
https://ServerIP:PortNumber/api/v1/query/objects/:id/status
Call this API to obtain the status of each monitor by providing the Monitor ID.
Request
Path Parameters
idintegerrequired
Unique identifier for the monitor. This Monitor ID is required to fetch the corresponding status of the the monitor.
Responses
•	200
•	400
•	403
•	500
Successful response. The request was processed successfully, and the status of the specified monitor is returned in the response body.
•	application/json
•	Schema
•	Example (from schema)
Schema
resultobject
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/objects/:id/status' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Parameters
id — pathrequired
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve detailed information about instances using Monitor ID
GET
https://ServerIP:PortNumber/api/v1/query/objects/:id/instances
Call this API to obtain detailed information for each monitor instance.
Request
Path Parameters
idintegerrequired
Unique identifier for the monitor. This Monitor ID is required to fetch detailed information about the corresponding monitor instances. "
Responses
•	200
•	400
•	403
•	500
The request was successful, and the server has returned the requested monitor instance details. The response contains a JSON object with the monitor instance information.
•	application/json
•	Schema
•	Example (from schema)
Schema
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/objects/:id/instances' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Parameters
id — pathrequired
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve Monitor Details by Filter
GET
https://ServerIP:PortNumber/api/v1/query/objects/
Call this API to get the details of monitors based on specific filters. The filter parameter must be provided in the query to filter and retrieve monitors that match the specified criteria.
Request
Query Parameters
filterobjectrequired
The filter is an object that contains key-value pairs to filter monitors by specific criteria. The key indicates what attribute to filter by (e.g. object type) and the value provides the acceptable values for that attribute.
Responses
•	200
•	400
•	403
•	500
Successful response. The request was successful, and the details of the monitors matching the specified filters were returned.
•	application/json
•	Schema
•	Example (from schema)
Schema
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/objects/' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Parameters
filter — queryrequired
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve Monitor Details by Status
GET
https://ServerIP:PortNumber/api/v1/query/objects/status
Call this API to get the details of monitors based on their status. The status parameter must be provided in the query to filter and retrieve the monitors that match the specified status.
Request
Query Parameters
statusstringrequired
The status of the monitor that you want to filter by. This parameter is required to retrieve the details of monitors that match the provided status. The possible values for status are as follows: 'Up,'Down','Unreachable','Maintenance','Disable', and 'Unknown'.
Responses
•	200
•	400
•	403
•	500
Successful response. The request was successful and the details of the monitors matching the specified status were returned.
•	application/json
•	Schema
•	Example (from schema)
Schema
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/objects/status' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Parameters
status — queryrequired
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve monitors with specific alert severity
GET
https://ServerIP:PortNumber/api/v1/query/objects/severity
Call this API to obtain a list of monitors that have alerts matching the severity level specified in the severity parameter.
Request
Query Parameters
severitystringrequired
Specifies the severity of alerts to filter the list of monitors. Only monitors with alerts matching the provided severity will be returned. Valid values include the various alert's severity levels. The possible values for severity are as follows: 'Clear','Major','Warning','Critical','Down', and 'Unreachable'
Responses
•	200
•	400
•	403
•	500
Successful response. The request was successful and the response contains a list of monitors with the specified alert severity.
•	application/json
•	Schema
•	Example (from schema)
Schema
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/objects/severity' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Parameters
severity — queryrequired
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve the Last Poll Information for a Monitor
GET
https://ServerIP:PortNumber/api/v1/query/objects/:id/poll-info
Call this API to obtain the last poll information for a specific monitor, including details about the metric group. The Monitor ID must be provided to fetch the corresponding poll information.
Request
Path Parameters
idintegerrequired
The unique identifier for the monitor. This Monitor ID is necessary to retrieve the last poll information and associated metric group details.
Responses
•	200
•	400
•	403
•	500
Successful response. The request was successful, and the last poll information for the specified monitor was returned.
•	application/json
•	Schema
•	Example (from schema)
Schema
resultobject
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/objects/:id/poll-info' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Parameters
id — pathrequired
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve monitors from group
GET
https://ServerIP:PortNumber/api/v1/query/objects/:id/group
Call this API to obtain the monitors within a group via the corresponding Group ID.
Request
Path Parameters
idintegerrequired
Unique identifier for the group. This Group ID is required to fetch the corresponding monitors.
Responses
•	200
•	400
•	403
•	500
Successful response. The request was processed successfully, and the status of the specified monitor is returned in the response body.
•	application/json
•	Schema
•	Example (from schema)
Schema
response-codeinteger
statusstring
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/objects/:id/group' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Parameters
id — pathrequired
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve all performance metrics dashboards.
GET
https://ServerIP:PortNumber/api/v1/visualization/dashboards
This endpoint retrieves all available dashboards containing performance metrics details. The data returned includes information such as dashboard IDs, names, category, and their configurations.
Request
Responses
•	200
•	400
•	403
•	500
Successfully retrieved the list of dashboards containing performance metrics details.
•	application/json
•	Schema
•	Example (from schema)
Schema
oneOf
o	Dashboard_GetAll_Response
o	Dashboard_GetAll_Response
response-codeinteger
statusstring
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/visualization/dashboards' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve Widgets from a Specific Dashboard
GET
https://ServerIP:PortNumber/api/v1/visualization/dashboards/:id
This endpoint retrieves all widgets associated with a specific dashboard, identified by its unique dashboard ID. The response includes the widget IDs and details of each widget within the dashboard, allowing for subsequent metric retrieval operations on individual widgets.
Request
Path Parameters
idintegerrequired
The unique ID of the dashboard for which the widgets need to be retrieved.
Responses
•	200
•	400
•	403
•	500
Successfully retrieved the list of widgets for the specified dashboard
•	application/json
•	Schema
•	Example (from schema)
Schema
oneOf
o	Dashboard_Get_By_ID_Response
o	Dashboard_Get_By_ID_Response
response-codeinteger
statusstring
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/visualization/dashboards/:id' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Parameters
id — pathrequired
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve details of a specific widget like widget name by its ID.
GET
https://ServerIP:PortNumber/api/v1/visualization/widgets/:id
This endpoint retrieves detailed information about a specific widget using its unique ID. The widget details include widget name, description, category, widget timeline details and other relevant data that can be used to identify the widget. This endpoint is useful for users who need to identify the widget for further performance metrics retrieval from the widget.

Request
Path Parameters
id
integer
required
The unique identifier of the widget to retrieve.

Responses
200
400
403
500
Successful retrieval of the widget details.

application/json
Schema
Example (from schema)
Schema
oneOf
Widget_Get_By_ID_Response
Widget_Get_By_ID_Response
response-code
integer
required
status
string
required
result
object[]
required
Authorization: cookie
curl
python
go
nodejs
ruby
csharp
php
java
powershell
RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/visualization/widgets/:id' -Method 'GET' -Headers $headers
$response | ConvertTo-Json


Request
Collapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme

CookieAuth
CookieAuth
CookieAuth
Parameters
id — pathrequired
The unique identifier of the widget to retrieve.
Send API Request
Response
Clear
Click the Send API Request button above and see the response here!
Retrieve Performance Metrics Information Based on Widget ID
GET
https://ServerIP:PortNumber/api/v1/query/visualization/:id
Call this API to retrieve the Key Performance Indicators (KPIs) for a specific widget. The id parameter must be provided to specify the widget of a dashboard for which you want to retrieve the KPIs.
Request
Path Parameters
idintegerrequired
Unique identifier for the widget. This widget ID is required to fetch the corresponding performance metrics and their values from the widgets.
Query Parameters
discard.dummy.rowsstring
Indicates whether to discard rows with dummy values in the performance metrics. The default value is `yes'. You can leave this unchanged.
Responses
•	200
•	400
•	403
•	408
•	500
Successful response. The request was successful, and the performance metrics for the specified widget ID were returned. The response schema will vary depending on the type of counter (Scalar or Instance).
•	application/json
•	Schema
•	Example (from schema)
Schema
oneOf
o	Performance_Metrics_Details_Scalar_Counter_Response_By_Widget_ID
o	Performance_Metrics_Details_Instance_Counter_Response_By_Widget_ID
response-codeinteger
statusstring
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Accept", "application/json")

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/visualization/:id' -Method 'GET' -Headers $headers
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Parameters
id — pathrequired
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve historical time-series data for a single metric
POST
https://ServerIP:PortNumber/api/v1/query/metric/histogram
This endpoint retrieves time-series data for a single specified metric over a given timeline. The data is displayed as a series of data points, each representing a specific moment in time. Users can specify a metric (e.g., system.cpu.percent), the entity type (e.g., monitor), and a list of specific entities. The data can be aggregated using methods such as avg (average) or others based on the user's request. Additionally, the timeline and granularity can be customized, allowing for detailed insights into both current and historical performance metrics.
Request
•	application/json
Body
required
queriesobject[]required
data.filterobject
result.filterobject
timelineobjectrequired
granularitystringrequired
Defines the granularity (sampling interval) for the data. The granularity field must follow the standard time format, where time intervals are represented as '1 s' for 1 second, '1 m' for 1 minute, '1 h' for 1 hour, '1 d' for 1 day.
typestringrequired
Specifies the type of data to be retrieved, such as 'metric'. The possible type of data that can be retrieved are 'metric' and 'availability'.
result.bystring[]
An array of strings specifying how the results should be grouped, The possible values are 'monitor', 'tag', 'group', and 'instance'.
Responses
•	200
•	400
•	403
•	500
Successfully retrieved Historical data with respect to data point with specific aggregator and specific entity type.
•	application/json
•	Schema
•	Example (from schema)
Schema
oneOf
o	Performance_Instance_Metric_Histogram_Category
o	Performance_Scalar_Metric_Histogram_Category
response-codeinteger
statusstring
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Content-Type", "application/json")
$headers.Add("Accept", "application/json")

$body = @"
{
  `"queries`": [
    {
      `"aggregator`": `"avg`",
      `"data.point`": `"system.cpu.percent`",
      `"entity.type`": `"monitor`",
      `"entities`": [
        83948934
      ]
    }
  ],
  `"data.filter`": {
    `"data.filter`": {
      `"groups`": [
        {
          `"conditions`": [
            {
              `"operand`": `"network.service.instance.name`",
              `"operator`": `"contain`",
              `"value`": `"SSH`"
            },
            {
              `"operand`": `"network.service.instance.name`",
              `"operator`": `"contain`",
              `"value`": `"HTTPS`"
            },
            {
              `"operand`": `"network.service.instance.name`",
              `"operator`": `"contain`",
              `"value`": `"Mindarray`"
            }
          ],
          `"filter`": `"include`",
          `"operator`": `"or`"
        },
        {
          `"conditions`": [
            {
              `"operand`": `"network.service.instance.name`",
              `"operator`": `"=`",
              `"value`": `"8081 (Apache HTTP)`"
            },
            {
              `"operand`": `"network.service.ip.address`",
              `"operator`": `"=`",
              `"value`": `"127.0.0.1`"
            },
            {
              `"operand`": `"network.service.port`",
              `"operator`": `"=`",
              `"value`": 80
            }
          ],
          `"filter`": `"include`",
          `"operator`": `"or`"
        },
        {
          `"conditions`": [
            {
              `"operand`": `"network.service.ip.address`",
              `"operator`": `"=`",
              `"value`": `"172.16.15.199`"
            },
            {
              `"operand`": `"network.service.ip.address`",
              `"operator`": `"=`",
              `"value`": `"172.16.15.134`"
            },
            {
              `"operand`": `"network.service.ip.address`",
              `"operator`": `"=`",
              `"value`": `"172.16.15.123`"
            }
          ],
          `"filter`": `"exclude`",
          `"operator`": `"or`"
        }
      ],
      `"filter`": `"include`",
      `"operator`": `"or`"
    }
  },
  `"result.filter`": {
    `"conditions`": [
      {
        `"operand`": `"network.service.latency.ms.avg`",
        `"operator`": `"=`",
        `"value`": 10
      },
      {
        `"operand`": `"network.service.latency.ms.avg`",
        `"operator`": `"=`",
        `"value`": 8
      },
      {
        `"operand`": `"network.service.latency.ms.avg`",
        `"operator`": `"=`",
        `"value`": 5
      }
    ],
    `"filter`": `"exclude`",
    `"operator`": `"and`"
  },
  `"timeline`": {
    `"from.date`": `"2024/10/11`",
    `"from.time`": `"00:00:00`",
    `"to.date`": `"2024/10/11`",
    `"to.time`": `"17:00:00`"
  },
  `"granularity`": `"5 m`",
  `"type`": `"metric`",
  `"result.by`": [
    `"monitor`"
  ]
}
"@

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/metric/histogram' -Method 'POST' -Headers $headers -Body $body
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Body required
{
  "queries": [
    {
      "aggregator": "avg",
      "data.point": "system.cpu.percent",
      "entity.type": "monitor",
      "entities": [
        83948934
      ]
    }
  ],
  "data.filter": {
    "data.filter": {
      "groups": [
        {
          "conditions": [
            {
              "operand": "network.service.instance.name",
              "operator": "contain",
              "value": "SSH"
            },
            {
              "operand": "network.service.instance.name",
              "operator": "contain",
              "value": "HTTPS"
            },
            {
              "operand": "network.service.instance.name",
              "operator": "contain",
              "value": "Mindarray"
            }
          ],
          "filter": "include",
          "operator": "or"
        },
        {
          "conditions": [
            {
              "operand": "network.service.instance.name",
              "operator": "=",
              "value": "8081 (Apache HTTP)"
            },
            {
              "operand": "network.service.ip.address",
              "operator": "=",
              "value": "127.0.0.1"
            },
            {
              "operand": "network.service.port",
              "operator": "=",
              "value": 80
            }
          ],
          "filter": "include",
          "operator": "or"
        },
        {
          "conditions": [
            {
              "operand": "network.service.ip.address",
              "operator": "=",
              "value": "172.16.15.199"
            },
            {
              "operand": "network.service.ip.address",
              "operator": "=",
              "value": "172.16.15.134"
            },
            {
              "operand": "network.service.ip.address",
              "operator": "=",
              "value": "172.16.15.123"
            }
          ],
          "filter": "exclude",
          "operator": "or"
        }
      ],
      "filter": "include",
      "operator": "or"
    }
  },
  "result.filter": {
    "conditions": [
      {
        "operand": "network.service.latency.ms.avg",
        "operator": "=",
        "value": 10
      },
      {
        "operand": "network.service.latency.ms.avg",
        "operator": "=",
        "value": 8
      },
      {
        "operand": "network.service.latency.ms.avg",
        "operator": "=",
        "value": 5
      }
    ],
    "filter": "exclude",
    "operator": "and"
  },
  "timeline": {
    "from.date": "2024/10/11",
    "from.time": "00:00:00",
    "to.date": "2024/10/11",
    "to.time": "17:00:00"
  },
  "granularity": "5 m",
  "type": "metric",
  "result.by": [
    "monitor"
  ]
}
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!

Retrieve aggregated metric data for multiple counters
POST
https://ServerIP:PortNumber/api/v1/query/metric/aggregations
This endpoint retrieves aggregated historical data for multiple specified metrics over a given timeline. The data is aggregated using methods such as avg (average), sum, min, max, or count, based on the user's request. Users can specify multiple data points (e.g., system.cpu.percent, system.memory.used.percent) along with the entity type (e.g., monitor) and a list of specific entities. Additionally, the timeline for the data can be customized, allowing users to fetch both current and historical data. Unlike the histogram API, this endpoint returns aggregated values rather than time series data, providing a summary view of the metrics based on the selected parameters.
Request
•	application/json
Body
required
queriesobject[]required
data.filterobject
result.filterobject
timelineobjectrequired
typestringrequired
Specifies the type of data to be retrieved, such as 'metric'. The possible type of data that can be retrieved are 'metric' and 'availability'.
result.bystring[]required
An array of strings specifying how the results should be grouped, The possible values are 'monitor', 'tag', 'group', and 'instance'.
Responses
•	200
•	400
•	403
•	500
Successfully retrieved Historical data with respect to data point with specific aggregator and specific entity type.
•	application/json
•	Schema
•	Example (from schema)
Schema
oneOf
o	Performance_Instance_Metric_Aggregation_Category
o	Performance_Scalar_Metric_Aggregation_Category
response-codeinteger
statusstring
resultobject[]
Authorization: cookie
•	curl
•	python
•	go
•	nodejs
•	ruby
•	csharp
•	php
•	java
•	powershell
•	RESTMETHOD
$headers = New-Object "System.Collections.Generic.Dictionary[[String],[String]]"
$headers.Add("Content-Type", "application/json")
$headers.Add("Accept", "application/json")

$body = @"
{
  `"queries`": [
    {
      `"aggregator`": `"avg`",
      `"data.point`": `"system.cpu.percent`",
      `"entity.type`": `"monitor`",
      `"entities`": [
        83948934
      ]
    }
  ],
  `"data.filter`": {
    `"data.filter`": {
      `"groups`": [
        {
          `"conditions`": [
            {
              `"operand`": `"network.service.instance.name`",
              `"operator`": `"contain`",
              `"value`": `"SSH`"
            },
            {
              `"operand`": `"network.service.instance.name`",
              `"operator`": `"contain`",
              `"value`": `"HTTPS`"
            },
            {
              `"operand`": `"network.service.instance.name`",
              `"operator`": `"contain`",
              `"value`": `"Mindarray`"
            }
          ],
          `"filter`": `"include`",
          `"operator`": `"or`"
        },
        {
          `"conditions`": [
            {
              `"operand`": `"network.service.instance.name`",
              `"operator`": `"=`",
              `"value`": `"8081 (Apache HTTP)`"
            },
            {
              `"operand`": `"network.service.ip.address`",
              `"operator`": `"=`",
              `"value`": `"127.0.0.1`"
            },
            {
              `"operand`": `"network.service.port`",
              `"operator`": `"=`",
              `"value`": 80
            }
          ],
          `"filter`": `"include`",
          `"operator`": `"or`"
        },
        {
          `"conditions`": [
            {
              `"operand`": `"network.service.ip.address`",
              `"operator`": `"=`",
              `"value`": `"172.16.15.199`"
            },
            {
              `"operand`": `"network.service.ip.address`",
              `"operator`": `"=`",
              `"value`": `"172.16.15.134`"
            },
            {
              `"operand`": `"network.service.ip.address`",
              `"operator`": `"=`",
              `"value`": `"172.16.15.123`"
            }
          ],
          `"filter`": `"exclude`",
          `"operator`": `"or`"
        }
      ],
      `"filter`": `"include`",
      `"operator`": `"or`"
    }
  },
  `"result.filter`": {
    `"conditions`": [
      {
        `"operand`": `"network.service.latency.ms.avg`",
        `"operator`": `"=`",
        `"value`": 10
      },
      {
        `"operand`": `"network.service.latency.ms.avg`",
        `"operator`": `"=`",
        `"value`": 8
      },
      {
        `"operand`": `"network.service.latency.ms.avg`",
        `"operator`": `"=`",
        `"value`": 5
      }
    ],
    `"filter`": `"exclude`",
    `"operator`": `"and`"
  },
  `"timeline`": {
    `"from.date`": `"2024/10/11`",
    `"from.time`": `"00:00:00`",
    `"to.date`": `"2024/10/11`",
    `"to.time`": `"17:00:00`"
  },
  `"type`": `"metric`",
  `"result.by`": [
    `"monitor`"
  ]
}
"@

$response = Invoke-RestMethod 'https://ServerIP:PortNumber/api/v1/query/metric/aggregations' -Method 'POST' -Headers $headers -Body $body
$response | ConvertTo-Json

RequestCollapse all
Base URL
https://ServerIP:PortNumber/api/v1
Auth
Security Scheme
CookieAuthBearerAuth
CookieAuth
Body required
{
  "queries": [
    {
      "aggregator": "avg",
      "data.point": "system.cpu.percent",
      "entity.type": "monitor",
      "entities": [
        83948934
      ]
    }
  ],
  "data.filter": {
    "data.filter": {
      "groups": [
        {
          "conditions": [
            {
              "operand": "network.service.instance.name",
              "operator": "contain",
              "value": "SSH"
            },
            {
              "operand": "network.service.instance.name",
              "operator": "contain",
              "value": "HTTPS"
            },
            {
              "operand": "network.service.instance.name",
              "operator": "contain",
              "value": "Mindarray"
            }
          ],
          "filter": "include",
          "operator": "or"
        },
        {
          "conditions": [
            {
              "operand": "network.service.instance.name",
              "operator": "=",
              "value": "8081 (Apache HTTP)"
            },
            {
              "operand": "network.service.ip.address",
              "operator": "=",
              "value": "127.0.0.1"
            },
            {
              "operand": "network.service.port",
              "operator": "=",
              "value": 80
            }
          ],
          "filter": "include",
          "operator": "or"
        },
        {
          "conditions": [
            {
              "operand": "network.service.ip.address",
              "operator": "=",
              "value": "172.16.15.199"
            },
            {
              "operand": "network.service.ip.address",
              "operator": "=",
              "value": "172.16.15.134"
            },
            {
              "operand": "network.service.ip.address",
              "operator": "=",
              "value": "172.16.15.123"
            }
          ],
          "filter": "exclude",
          "operator": "or"
        }
      ],
      "filter": "include",
      "operator": "or"
    }
  },
  "result.filter": {
    "conditions": [
      {
        "operand": "network.service.latency.ms.avg",
        "operator": "=",
        "value": 10
      },
      {
        "operand": "network.service.latency.ms.avg",
        "operator": "=",
        "value": 8
      },
      {
        "operand": "network.service.latency.ms.avg",
        "operator": "=",
        "value": 5
      }
    ],
    "filter": "exclude",
    "operator": "and"
  },
  "timeline": {
    "from.date": "2024/10/11",
    "from.time": "00:00:00",
    "to.date": "2024/10/11",
    "to.time": "17:00:00"
  },
  "type": "metric",
  "result.by": [
    "monitor"
  ]
}
Send API Request
ResponseClear
Click the Send API Request button above and see the response here!


